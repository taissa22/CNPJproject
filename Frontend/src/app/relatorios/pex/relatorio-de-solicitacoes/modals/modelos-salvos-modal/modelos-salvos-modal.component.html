<div class="modal-header">
    <span class="modal-title  ">Modelos salvos</span>
    <button type="button" class="btn btn-icon" (click)="close()">
        <i class="fa fa-times"></i>
    </button>
</div>

<div class="modal-body pt-2 pb-4 pl-4 pr-5">
    <div class="row mb-2">
        <div class="col">
            <div class="input-group md-form form-sm form-2  ">
                <input [(ngModel)]="pesquisa" class="form-control my-0 py-1 amber-border"
                    placeholder="Pesquisar agendamento por nome ou data" type="text" aria-label="Search">
                <div class="input-group-append" (click)="buscarModelos()" style="cursor: pointer;">
                    <span class="input-group-text amber lighten-3" id="basic-text1"><i class="fas fa-search text-grey"
                            aria-hidden="true"></i></span>
                </div>
            </div>
            <p class="font-weight-light" style="font-size: 11px;font-weight: bold" *ngIf="tipoDePesquisaToggle == 'OrdemAlfabetica'"> Ordenado por "Ordem Alfabética"</p> 
            <p class="font-weight-light" style="font-size: 11px;font-weight: bold" *ngIf="tipoDePesquisaToggle == 'DataAtualizacao'"> Ordenado por "Últimas Alterações"</p>
            <!-- <p class="font-weight-light" style="font-size: 11px;font-weight: bold"  > Ordenado por "Últimas alterações"</p> -->
        </div>
    </div>
    <div class="row mb-4">
        <div class="col">
            <label>Ordenar por
                <div style="cursor:pointer" class="btn  mr-2" (click)="tipoDePesquisaToggle = 'OrdemAlfabetica';buscarModelos()" [ngClass]="tipoDePesquisaToggle == 'OrdemAlfabetica' ?  {'btn-primary': true } : {'btn-outline-primary': true }"> Relatórios em ordem alfabética</div>
                <div style="cursor:pointer"  class="btn "  (click)="tipoDePesquisaToggle = 'DataAtualizacao';buscarModelos()" [ngClass]="tipoDePesquisaToggle == 'DataAtualizacao' ?  {'btn-primary': true } : {'btn-outline-primary': true } ">Últimas Alterações</div>
            </label>
        </div>
    </div>
    <div class="row mb-2">
        <div class="col ">
            <div class="w-100 border-top  " style="height: 200px;overflow: auto ;overflow-x: hidden;">

                <div class="row my-2" *ngFor="let modelo of modelos;let i = index">
                    <div class="col">
                        <p class="m-0">{{modelo.nome}}</p>
                        <p class="m-0" style="color:#786bb9; font-size: 11px;">alterado em: {{modelo.dataDeAlteracao}}</p>
                        <div ngbDropdown>
                            <button class="btn btn-link" style="font-weight: bold;" id="drop1" ngbDropdownToggle>OPÇÕES&nbsp;<i class="fa fa-caret-down" aria-hidden="true"></i></button>
                            <div ngbDropdownMenu="drop1">
                                <div class="w-100" style="z-index: 999;background-color: #fff;">
                                    <button ngbDropdownItem style="color: #786bb9;" (click)="verModelo(modelo)">
                                      <i class="fa fa-pencil-alt"></i> &nbsp;Ver e editar modelo</button>
                                    <button ngbDropdownItem style="color: #786bb9;" (click)=" excluir(modelo)">
                                      <i class="fas fa-trash" aria-hidden="true"></i> &nbsp; Excluir modelo</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> 

                <div class="row  my-2" *ngIf="modelos.length >= 10"> 
                    <div class="col text-center"><a style="color:#786bb9;font-size: 12px;cursor: pointer;" (click)="buscarModelosSkip()">VER MAIS</a></div>
                </div>
            </div>

        </div>
    </div>
</div>
