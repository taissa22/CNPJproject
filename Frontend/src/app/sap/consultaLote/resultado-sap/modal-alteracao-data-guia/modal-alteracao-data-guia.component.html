<div bsModal #template="bs-modal" style=" width: 600px;" tabindex="-1" role="dialog"
  aria-labelledby="dialog-sizes-name1" [config]="{backdrop: 'static'}">
  <div>
    <div class="modal-content ">
      <div class="modal-header ml-2">
        <h4 id="dialog-sizes-name1" class="modal-title pull-left p-0">
          Alteração - Data da Guia
        </h4>
        <button type="button" class="close pull-right" (click)="bsModalRef.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body ml-2">
        <p>Ao regerar o arquivo manualmente, você poderá definir uma nova data para a guia
          DJO de todos os lançamentos deste lote.
        </p>
        <form [formGroup]="form">
          <p>
            Deseja manter a data original ou deseja alterá-la?
          </p>
          <div class="d-flex align-items-center mb-2 ml-2">
            <input type="radio" id="dataOriginal" formControlName="opcaoSelecionada" value="1">
            <label for="dataOriginal" class="p-0 pl-1 m-0 ">
              Manter a data Original
            </label>
          </div>
          <div class="d-flex align-items-center mb-3 ml-2">
            <input type="radio" id="dataAlterada" formControlName="opcaoSelecionada" value="2">
            <div class="d-flex align-items-center">
              <label for="dataAlterada" class="mr-2 p-0 pl-1 m-0">
                Alterar a data para
              </label>
              <div class="form-inline prlnk-datepicker">
                <div class="form-group">
                  <div class="input-group">
                    <input class="form-control" [ngClass]="
                    {
                    'erro': form.get('dataGuia').errors?.invalid,
                    'is-invalid':
                        (form.get('dataGuia').errors?.required && form.get('dataGuia').touched)
                        || (form.get('dataGuia').errors?.required && clickou)
                     }" maxlength='10' rInputMask="99/99/9999" placeholder="dd/mm/aaaa" name="dp3" ngbDatepicker
                      #f="ngbDatepicker" [navigation]="'arrows'" firstDayOfWeek="7" showWeekNumbers="true"
                      formControlName="dataGuia" (blur)="validarData(form.get('dataGuia'))"
                      (focusout)="validarData(form.get('dataGuia'))"
                      [ngbTooltip]="validacaoTextos('dataGuia', 'Data', true)" tooltipClass="erroTooltip">
                    <span *ngIf="form.get('dataGuia').errors?.invalid" class="guarda-erro" title="Data Inválida"></span>
                    <div class="input-group-append">
                      <button class="btn calendar" [disabled]="this.form.get('opcaoSelecionada').value == '1'"
                        (click)="f.toggle();" type="button" tabindex="-1"><i
                          class="fa-solid fa-calendar-days fa-lg"></i></button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="d-flex align-items-center mt-2">
            <input type="checkbox" class="mr-1 " id="enviar" formControlName="enviarServidor" />
            <label for="enviar" class="p-0 m-0">Enviar arquivo para o servidor</label>
          </div>
          <p class="texto-informativo mt-3 m-0 p-0 roxo-padrao">
            Desmarque a flag acima caso deseje não enviar o arquivo para o servidor.
            Não se preocupe, mesmo assim o arquivo será salvo no seu computador.
          </p>

          <div>

          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-cancelar-oi roxo-padrao" (click)="bsModalRef.hide()"><span
            class="texto-btn-oi cancelar">
            Cancelar </span></button>

        <button type="button" class="btn btn-primary" (click)="confirmarFormulario()"><span
            class="texto-btn-oi confirmar"> Confirmar </span>
        </button>
      </div>
    </div>
  </div>
</div>
